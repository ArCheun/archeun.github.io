<!doctype html><html lang=en-us>
<head>
<meta charset=utf-8>
<meta http-equiv=x-ua-compatible content="IE=edge">
<meta name=viewport content="width=device-width,initial-scale=1">
<meta name=author content="archeun">
<link rel="shortcut icon" type=image/x-icon href=https://archeun.github.ioimg/favicon.ico>
<title>Fun with JavaScript Type System | archeun blog</title>
<meta name=description content="Intro to the JS type system Compared to the other articles in this series, this article includes a set of short notes (recipes) that are useful to understand the Type system in JavaScript.
It is a common misconception that JS does not have types. In contrast to typed languages, js follows a slightly different approach in handling types. As a ground rule, I usually adhere to the following statement when thinking about types in JS.">
<link href=https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta2/dist/css/bootstrap.min.css rel=stylesheet integrity=sha384-BmbxuPwQa2lc/FVzBcNJ7UAyJxM6wuqIj61tLrc4wSX0szH/Ev+nYRRuWlolflfl crossorigin=anonymous>
<link rel="preload stylesheet" href=/css/main.min.css as=style>
<link rel=stylesheet type=text/css href=https://maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css>
<link rel=stylesheet type=text/css href="https://fonts.googleapis.com/css?family=Source+Sans+Pro:200,400,200bold,400old"><!--[if lt IE 9]><script src=https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js></script>
<script src=https://oss.maxcdn.com/libs/respond.js/1.4.2/respond.min.js></script><![endif]-->
</head>
<body>
<div id=content>
<div class="container mb-3">
<nav class="navbar navbar-expand-lg">
<div class=container-fluid>
<a class=navbar-brand href=https://archeun.github.io>
<i class="fa fa-home"></i>
</a>
<button class=navbar-toggler type=button data-bs-toggle=collapse data-bs-target=#navbar aria-controls=navbar>
<i class="fa fa-bars"></i>
</button>
<div id=navbar class="collapse navbar-collapse">
<ul class="navbar-nav ms-auto mb-2 mb-lg-0">
<li class=nav-item>
<li><a class=nav-link href=/blog/>BLOG</a></li>
</li>
</ul>
</div>
</div>
</div>
</nav>
<div class=container>
<h3 class=mt-3><b><a href=https://archeun.github.io/blog/javascript-fun-with-type-system/>Fun with JavaScript Type System</a></b></h3>
<div class="blog-title my-4">
<h6>
January 17, 2022
&nbsp;&nbsp;
</h6>
</div>
<div class=panel>
<div class=panel-body>
<div class=blogpost>
<h2 id=intro-to-the-js-type-system>Intro to the JS type system</h2>
<p>Compared to the other articles in this series, this article includes a set of short notes (recipes) that are useful to understand the Type system in JavaScript.</p>
<p>It is a common misconception that JS does not have <em>types</em>. In contrast to typed languages, js follows a slightly different approach in handling types. As a ground rule, I usually adhere to the following statement when thinking about types in JS.</p>
<blockquote>
<p>JavaScript variables do not have types, but the values those variables hold do!.</p>
</blockquote>
<p><em>I found the above statement in the book <a href=https://github.com/getify/You-Dont-Know-JS/tree/1st-ed>You Don&rsquo;t Know JS (book series) - 1st Edition</a> written by <a href=https://me.getify.com/>Kyle Simpson</a>. As a matter of fact, I was motivated to write this article after reading that book, and most of the examples are taken from it. I recommend reading that amazing book if you intend to be a professional JS developer.</em></p>
<p>If you have the basic knowledge of JS, you might already have understood what the above statement means. Also, you must be aware that the values of JS variables can be in one of the below data types.</p>
<ol>
<li>null</li>
<li>undefined</li>
<li>boolean</li>
<li>number</li>
<li>string</li>
<li>object</li>
<li>symbol</li>
</ol>
<p>Let&rsquo;s consider the following.</p>
<div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-js data-lang=js><span style=color:#66d9ef>let</span> <span style=color:#a6e22e>myVar</span> <span style=color:#f92672>=</span> <span style=color:#ae81ff>42</span>;
</code></pre></div><p>The above line of code assigns the value 42 (<code>number</code> value) to the variable called <code>myVar</code>. The implicit knowledge that says <em>myVar</em> at this moment is a <code>numeric</code> type, is emerged from the <em>value</em> of that variable. When declaring <code>myVar</code> we did not specify any <em>type</em> information into it. The language also allows us to assign a value that has a completely different type later in the execution too. So doing the following is acceptable.</p>
<div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-js data-lang=js><span style=color:#66d9ef>let</span> <span style=color:#a6e22e>myVar</span> <span style=color:#f92672>=</span> <span style=color:#ae81ff>42</span>; <span style=color:#75715e>// At this point, myVar is a number
</span><span style=color:#75715e></span><span style=color:#a6e22e>myVar</span> <span style=color:#f92672>=</span> {<span style=color:#a6e22e>key</span><span style=color:#f92672>:</span> <span style=color:#ae81ff>42</span>, <span style=color:#a6e22e>name</span><span style=color:#f92672>:</span> <span style=color:#e6db74>&#39;John&#39;</span>}; <span style=color:#75715e>// Now myVar is an object
</span></code></pre></div><p>What this basically tells us is that JS variables do not belong to any <em>type</em>, but their values do! This is how the JS type system is basically different from statically-typed languages.</p>
<p>Compared to other languages, some design decisions are taken to make the language behave in unconventional ways when it comes to the type system. Javascript frequently gets humiliated/harassed on the internet by non-experienced developers due to the lack of understanding about uncommon parts of the type system.</p>
<p>If you properly learn these edge-cases/caveats in the system, you will understand the underlying reasoning behind most of them. Without putting the blame on the language, we can learn its beauty and make our coding life fun! ;-)</p>
<h2 id=fun-with-type-checking>Fun with type checking</h2>
<p>Let&rsquo;s quickly see some interesting and fun characteristics of the JS type system now.</p>
<h3 id=typeof---inspect-the-type-of-a-value><code>typeof</code> - inspect the type of a value</h3>
<p>The construct called <code>typeof</code> is used to inspect the type of a given value.</p>
<div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-js data-lang=js><span style=color:#a6e22e>console</span>.<span style=color:#a6e22e>log</span>(<span style=color:#66d9ef>typeof</span> <span style=color:#66d9ef>undefined</span>); <span style=color:#75715e>//undefined
</span><span style=color:#75715e></span><span style=color:#a6e22e>console</span>.<span style=color:#a6e22e>log</span>(<span style=color:#66d9ef>typeof</span> <span style=color:#66d9ef>true</span>); <span style=color:#75715e>//boolean
</span><span style=color:#75715e></span><span style=color:#a6e22e>console</span>.<span style=color:#a6e22e>log</span>(<span style=color:#66d9ef>typeof</span> <span style=color:#ae81ff>42</span>); <span style=color:#75715e>//number
</span><span style=color:#75715e></span><span style=color:#a6e22e>console</span>.<span style=color:#a6e22e>log</span>(<span style=color:#66d9ef>typeof</span> <span style=color:#e6db74>&#39;42&#39;</span>); <span style=color:#75715e>//string
</span><span style=color:#75715e></span><span style=color:#a6e22e>console</span>.<span style=color:#a6e22e>log</span>(<span style=color:#66d9ef>typeof</span> { <span style=color:#a6e22e>life</span><span style=color:#f92672>:</span> <span style=color:#ae81ff>42</span> }); <span style=color:#75715e>//object
</span><span style=color:#75715e></span><span style=color:#a6e22e>console</span>.<span style=color:#a6e22e>log</span>(<span style=color:#66d9ef>typeof</span> <span style=color:#a6e22e>Symbol</span>()); <span style=color:#75715e>//symbol
</span></code></pre></div><p>In addition to inspecting the data types, it can detect whether the value is a <code>function</code> too.</p>
<div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-js data-lang=js><span style=color:#a6e22e>console</span>.<span style=color:#a6e22e>log</span>(<span style=color:#66d9ef>typeof</span> <span style=color:#66d9ef>function</span>() {}); <span style=color:#75715e>//function
</span></code></pre></div><p>But, there is a caveat when it comes to handling <code>null</code> since <code>typeof</code> sees <code>null</code> as an <code>object</code> type.</p>
<div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-js data-lang=js><span style=color:#a6e22e>console</span>.<span style=color:#a6e22e>log</span>(<span style=color:#66d9ef>typeof</span> <span style=color:#66d9ef>null</span>); <span style=color:#75715e>//object
</span></code></pre></div><p><em>This behavior has been identified as a historical bug. But if the language tries to fix it now, it will break a considerable amount of existing apps that use this buggy behavior.</em></p>
<h3 id=undefined-vs-undeclared><code>undefined</code> vs. undeclared</h3>
<p>JavaScript already has a data type called <code>undefined</code>. It is the default value that is assigned to any variable that has not been initialized yet.</p>
<p>In contrast, undeclared means that the variable is not <em>declared</em> in the code (the variable does not exist or is not defined). It is safe to access undefined variables, but if you try to access an undeclared variable, the JS interpreter will throw an error. See below.</p>
<div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-js data-lang=js><span style=color:#66d9ef>let</span> <span style=color:#a6e22e>myVar</span>;

<span style=color:#a6e22e>console</span>.<span style=color:#a6e22e>log</span>(<span style=color:#a6e22e>myVar</span>); <span style=color:#75715e>// undefined
</span><span style=color:#75715e></span><span style=color:#a6e22e>console</span>.<span style=color:#a6e22e>log</span>(<span style=color:#a6e22e>someOtherVar</span>); <span style=color:#75715e>// ReferenceError: someOtherVar is not defined
</span></code></pre></div><p>P.S.: If you try to inspect an undeclared variable, it will be detected as <code>undefined</code> and no error will be thrown. This is used as a safe-guard (precaution) so that the developer can check the existence of an unknown variable without causing an error in the program.</p>
<h2 id=fun-with-arrays>Fun with arrays</h2>
<p>Arrays are a special variant of the <code>object</code> data type in JS. Let&rsquo;s look into some interesting facts about arrays now.</p>
<h2 id=delete-array-elements><code>delete</code> array elements</h2>
<p>Deleting array elements using the <code>delete</code> construct will not <em>remove</em> the element from the array. Instead, it will assign <code>undefined</code> to the particular element, which in return will not affect the array length too.</p>
<div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-js data-lang=js><span style=color:#66d9ef>const</span> <span style=color:#a6e22e>arr</span> <span style=color:#f92672>=</span> [<span style=color:#ae81ff>1</span>, <span style=color:#ae81ff>2</span>, <span style=color:#ae81ff>3</span>, <span style=color:#ae81ff>4</span>, <span style=color:#ae81ff>5</span>, <span style=color:#ae81ff>6</span>, <span style=color:#ae81ff>7</span>, <span style=color:#ae81ff>8</span>, <span style=color:#ae81ff>9</span>, <span style=color:#ae81ff>10</span>];

<span style=color:#66d9ef>delete</span> <span style=color:#a6e22e>arr</span>[<span style=color:#ae81ff>0</span>];
<span style=color:#66d9ef>delete</span> <span style=color:#a6e22e>arr</span>[<span style=color:#ae81ff>3</span>];
<span style=color:#66d9ef>delete</span> <span style=color:#a6e22e>arr</span>[<span style=color:#ae81ff>9</span>];

<span style=color:#a6e22e>console</span>.<span style=color:#a6e22e>log</span>(<span style=color:#a6e22e>arr</span>); <span style=color:#75715e>// [, 2, 3, , 5, 6, 8, 9, ]
</span><span style=color:#75715e></span><span style=color:#a6e22e>console</span>.<span style=color:#a6e22e>log</span>(<span style=color:#a6e22e>arr</span>.<span style=color:#a6e22e>length</span>); <span style=color:#75715e>// 10
</span><span style=color:#75715e></span><span style=color:#a6e22e>console</span>.<span style=color:#a6e22e>log</span>(<span style=color:#66d9ef>typeof</span> <span style=color:#a6e22e>arr</span>[<span style=color:#ae81ff>3</span>]); <span style=color:#75715e>// undefined
</span></code></pre></div><h2 id=string-indexes-are-not-counted-towards-the-length-of-an-array><code>string</code> indexes are not counted towards the length of an array</h2>
<div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-js data-lang=js><span style=color:#66d9ef>const</span> <span style=color:#a6e22e>arr</span> <span style=color:#f92672>=</span> [<span style=color:#ae81ff>1</span>, <span style=color:#ae81ff>2</span>, <span style=color:#ae81ff>3</span>];

<span style=color:#a6e22e>arr</span>[<span style=color:#e6db74>&#39;val1&#39;</span>] <span style=color:#f92672>=</span> <span style=color:#e6db74>&#39;val1&#39;</span>;
<span style=color:#a6e22e>arr</span>[<span style=color:#e6db74>&#39;val2&#39;</span>] <span style=color:#f92672>=</span> <span style=color:#e6db74>&#39;val2&#39;</span>;

<span style=color:#a6e22e>console</span>.<span style=color:#a6e22e>log</span>(<span style=color:#a6e22e>arr</span>.<span style=color:#a6e22e>length</span>); <span style=color:#75715e>// 3
</span></code></pre></div><p>But, if the index can be <em>interpreted</em> as a <code>numeric</code> value, that element is accounted for the length.</p>
<div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-js data-lang=js><span style=color:#66d9ef>const</span> <span style=color:#a6e22e>arr</span> <span style=color:#f92672>=</span> [<span style=color:#ae81ff>1</span>, <span style=color:#ae81ff>2</span>, <span style=color:#ae81ff>3</span>];

<span style=color:#a6e22e>arr</span>[<span style=color:#e6db74>&#39;3&#39;</span>] <span style=color:#f92672>=</span> <span style=color:#e6db74>&#39;val1&#39;</span>; <span style=color:#75715e>// &#39;3&#39; can be intepreted as a numeric value.
</span><span style=color:#75715e></span><span style=color:#a6e22e>arr</span>[<span style=color:#e6db74>&#39;val2&#39;</span>] <span style=color:#f92672>=</span> <span style=color:#e6db74>&#39;val2&#39;</span>;

<span style=color:#a6e22e>console</span>.<span style=color:#a6e22e>log</span>(<span style=color:#a6e22e>arr</span>.<span style=color:#a6e22e>length</span>); <span style=color:#75715e>// 4
</span></code></pre></div><h2 id=fun-with-strings>Fun with Strings</h2>
<p>Strings and arrays behave in a similar way in some cases.</p>
<div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-js data-lang=js><span style=color:#66d9ef>var</span> <span style=color:#a6e22e>str</span> <span style=color:#f92672>=</span> <span style=color:#e6db74>&#34;foo&#34;</span>;
<span style=color:#66d9ef>var</span> <span style=color:#a6e22e>arr</span> <span style=color:#f92672>=</span> [<span style=color:#e6db74>&#34;f&#34;</span>, <span style=color:#e6db74>&#34;o&#34;</span>, <span style=color:#e6db74>&#34;o&#34;</span>];

<span style=color:#a6e22e>str</span>.<span style=color:#a6e22e>length</span>; <span style=color:#75715e>// 3
</span><span style=color:#75715e></span><span style=color:#a6e22e>arr</span>.<span style=color:#a6e22e>length</span>; <span style=color:#75715e>// 3
</span><span style=color:#75715e></span>
<span style=color:#a6e22e>str</span>.<span style=color:#a6e22e>indexOf</span>(<span style=color:#e6db74>&#34;o&#34;</span>); <span style=color:#75715e>// 1
</span><span style=color:#75715e></span><span style=color:#a6e22e>arr</span>.<span style=color:#a6e22e>indexOf</span>(<span style=color:#e6db74>&#34;o&#34;</span>); <span style=color:#75715e>// 1
</span><span style=color:#75715e></span>
<span style=color:#66d9ef>var</span> <span style=color:#a6e22e>c</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>str</span>.<span style=color:#a6e22e>concat</span>(<span style=color:#e6db74>&#34;bar&#34;</span>); <span style=color:#75715e>// &#34;foobar&#34;
</span><span style=color:#75715e></span><span style=color:#66d9ef>var</span> <span style=color:#a6e22e>d</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>arr</span>.<span style=color:#a6e22e>concat</span>([<span style=color:#e6db74>&#34;b&#34;</span>, <span style=color:#e6db74>&#34;a&#34;</span>, <span style=color:#e6db74>&#34;r&#34;</span>]); <span style=color:#75715e>// [&#34;f&#34;,&#34;o&#34;,&#34;o&#34;,&#34;b&#34;,&#34;a&#34;,&#34;r&#34;]
</span><span style=color:#75715e></span>
<span style=color:#a6e22e>str</span> <span style=color:#f92672>===</span> <span style=color:#a6e22e>c</span>; <span style=color:#75715e>// false
</span><span style=color:#75715e></span><span style=color:#a6e22e>arr</span> <span style=color:#f92672>===</span> <span style=color:#a6e22e>d</span>; <span style=color:#75715e>// false
</span><span style=color:#75715e></span>
<span style=color:#a6e22e>str</span>; <span style=color:#75715e>// &#34;foo&#34;
</span><span style=color:#75715e></span><span style=color:#a6e22e>arr</span>; <span style=color:#75715e>// [&#34;f&#34;,&#34;o&#34;,&#34;o&#34;]
</span></code></pre></div><p>Quickly reverse a string using array methods. (This will not work for strings having non Unicode characters though)</p>
<div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-js data-lang=js><span style=color:#66d9ef>var</span> <span style=color:#a6e22e>c</span> <span style=color:#f92672>=</span> <span style=color:#e6db74>&#39;foo&#39;</span>
	<span style=color:#75715e>// split `a` into an array of characters
</span><span style=color:#75715e></span>	.<span style=color:#a6e22e>split</span>( <span style=color:#e6db74>&#34;&#34;</span> )
	<span style=color:#75715e>// reverse the array of characters
</span><span style=color:#75715e></span>	.<span style=color:#a6e22e>reverse</span>()
	<span style=color:#75715e>// join the array of characters back to a string
</span><span style=color:#75715e></span>	.<span style=color:#a6e22e>join</span>( <span style=color:#e6db74>&#34;&#34;</span> );

<span style=color:#a6e22e>c</span>; <span style=color:#75715e>// &#34;oof&#34;
</span></code></pre></div><h2 id=fun-with-numbers>Fun with Numbers</h2>
<p>Numbers can be specified in exponent form,</p>
<div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-js data-lang=js><span style=color:#66d9ef>var</span> <span style=color:#a6e22e>onethousand</span> <span style=color:#f92672>=</span> <span style=color:#ae81ff>1E3</span>;						<span style=color:#75715e>// means 1 * 10^3
</span><span style=color:#75715e></span><span style=color:#66d9ef>var</span> <span style=color:#a6e22e>onemilliononehundredthousand</span> <span style=color:#f92672>=</span> <span style=color:#ae81ff>1.1</span><span style=color:#a6e22e>E6</span>;	<span style=color:#75715e>// means 1.1 * 10^6
</span></code></pre></div><p>Most of the languages that follow the IEEE 754 standard have the floating-point precision issue.</p>
<div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-js data-lang=js><span style=color:#ae81ff>0.1</span> <span style=color:#f92672>+</span> <span style=color:#ae81ff>0.2</span> <span style=color:#f92672>===</span> <span style=color:#ae81ff>0.3</span>; <span style=color:#75715e>// false
</span></code></pre></div><h3 id=number-ranges>Number ranges</h3>
<p>Numbers have ranges (min/max values).</p>
<p>Max and min floating-point values that can be represented in JS are,</p>
<div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-js data-lang=js><span style=color:#a6e22e>console</span>.<span style=color:#a6e22e>log</span>(Number.<span style=color:#a6e22e>MAX_VALUE</span>); <span style=color:#75715e>// 1.7976931348623157e+308
</span><span style=color:#75715e></span><span style=color:#a6e22e>console</span>.<span style=color:#a6e22e>log</span>(Number.<span style=color:#a6e22e>MIN_VALUE</span>); <span style=color:#75715e>// 5e-324
</span></code></pre></div><p>Max and min integer values that can be safely used in calculations in JS are,</p>
<div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-js data-lang=js><span style=color:#a6e22e>console</span>.<span style=color:#a6e22e>log</span>(Number.<span style=color:#a6e22e>MAX_SAFE_INTEGER</span>); <span style=color:#75715e>// 1.7976931348623157e+308
</span><span style=color:#75715e></span><span style=color:#a6e22e>console</span>.<span style=color:#a6e22e>log</span>(Number.<span style=color:#a6e22e>MIN_SAFE_INTEGER</span>); <span style=color:#75715e>// 5e-324
</span></code></pre></div><h2 id=fun-with-special-values>Fun with special values</h2>
<h3 id=non-value-values>Non-value values</h3>
<p><code>null</code> and <code>undefined</code> are considered the non-value values in JS.</p>
<p>In non-strict mode, it is possible to assign a value to the globally defined <code>undefined</code> value! Oops!</p>
<div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-js data-lang=js><span style=color:#66d9ef>function</span> <span style=color:#a6e22e>foo</span>() {
	<span style=color:#66d9ef>undefined</span> <span style=color:#f92672>=</span> <span style=color:#ae81ff>2</span>; <span style=color:#75715e>// really bad idea!
</span><span style=color:#75715e></span>}

<span style=color:#a6e22e>foo</span>();
</code></pre></div><p>Even in strict mode, it is possible to re-declare the <code>undefined</code> variable and assign values to it. Even worse!</p>
<div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-js data-lang=js><span style=color:#66d9ef>function</span> <span style=color:#a6e22e>foo</span>() {
	<span style=color:#e6db74>&#34;use strict&#34;</span>;
	<span style=color:#66d9ef>var</span> <span style=color:#66d9ef>undefined</span> <span style=color:#f92672>=</span> <span style=color:#ae81ff>2</span>;
	<span style=color:#a6e22e>console</span>.<span style=color:#a6e22e>log</span>( <span style=color:#66d9ef>undefined</span> ); <span style=color:#75715e>// 2
</span><span style=color:#75715e></span>}

<span style=color:#a6e22e>foo</span>();
</code></pre></div><h3 id=the-real-undefined>The real <code>undefined</code></h3>
<p>The <code>void</code> operator when used against a variable will return <code>undefined</code>.</p>
<div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-js data-lang=js><span style=color:#66d9ef>const</span> <span style=color:#a6e22e>a</span> <span style=color:#f92672>=</span> <span style=color:#ae81ff>42</span>;

<span style=color:#a6e22e>console</span>.<span style=color:#a6e22e>log</span>(<span style=color:#a6e22e>a</span>); <span style=color:#75715e>// 42
</span><span style=color:#75715e></span><span style=color:#a6e22e>console</span>.<span style=color:#a6e22e>log</span>(<span style=color:#66d9ef>void</span> <span style=color:#a6e22e>a</span>); <span style=color:#75715e>// undefined
</span></code></pre></div><h3 id=special-numbers>Special numbers</h3>
<p><code>NaN</code> is used to specify a non-numeric result from a mathematical expression in JS.</p>
<div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-js data-lang=js><span style=color:#66d9ef>const</span> <span style=color:#a6e22e>a</span> <span style=color:#f92672>=</span> <span style=color:#ae81ff>42</span>;

<span style=color:#a6e22e>console</span>.<span style=color:#a6e22e>log</span>(<span style=color:#a6e22e>a</span> <span style=color:#f92672>*</span> <span style=color:#e6db74>&#39;four&#39;</span>); <span style=color:#75715e>// NaN
</span></code></pre></div><p>But JS identifies <code>NaN</code> as a number. Ouch!</p>
<div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-js data-lang=js><span style=color:#66d9ef>const</span> <span style=color:#a6e22e>a</span> <span style=color:#f92672>=</span> <span style=color:#ae81ff>42</span>;
<span style=color:#66d9ef>const</span> <span style=color:#a6e22e>b</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>a</span> <span style=color:#f92672>*</span> <span style=color:#e6db74>&#39;four&#39;</span>;
<span style=color:#a6e22e>console</span>.<span style=color:#a6e22e>log</span>(<span style=color:#a6e22e>b</span>); <span style=color:#75715e>// NaN
</span><span style=color:#75715e></span><span style=color:#a6e22e>console</span>.<span style=color:#a6e22e>log</span>(<span style=color:#66d9ef>typeof</span> <span style=color:#a6e22e>b</span>); <span style=color:#75715e>// number
</span></code></pre></div><p>More surprisingly, <code>NaN</code> is not equal to itself. It is the only value in JS that has a non-reflexive characteristic.</p>
<div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-js data-lang=js><span style=color:#a6e22e>console</span>.<span style=color:#a6e22e>log</span>(<span style=color:#66d9ef>NaN</span> <span style=color:#f92672>===</span> <span style=color:#66d9ef>NaN</span>); <span style=color:#75715e>// false
</span><span style=color:#75715e></span><span style=color:#a6e22e>console</span>.<span style=color:#a6e22e>log</span>(<span style=color:#66d9ef>NaN</span> <span style=color:#f92672>==</span> <span style=color:#66d9ef>NaN</span>); <span style=color:#75715e>// false
</span></code></pre></div><p>Therefore, in order to check whether a value is <code>NaN</code> we have to use the <code>isNaN</code> function.</p>
<h3 id=to-the-infinity-and-beyond>To the <code>Infinity</code> and beyond</h3>
<p>JavaScript does not complain you about dividing by zero. It returns you a special value called <code>Infinity</code> if you do so. To be precise, if you divide a negative value by zero, JS will return <code>-Infinity</code> too!</p>
<div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-js data-lang=js><span style=color:#66d9ef>const</span> <span style=color:#a6e22e>a</span> <span style=color:#f92672>=</span> <span style=color:#ae81ff>42</span>;

<span style=color:#a6e22e>console</span>.<span style=color:#a6e22e>log</span>(<span style=color:#a6e22e>a</span> <span style=color:#f92672>/</span> <span style=color:#ae81ff>0</span>); <span style=color:#75715e>// Infinity
</span><span style=color:#75715e></span><span style=color:#a6e22e>console</span>.<span style=color:#a6e22e>log</span>(<span style=color:#f92672>-</span><span style=color:#a6e22e>a</span> <span style=color:#f92672>/</span> <span style=color:#ae81ff>0</span>); <span style=color:#75715e>// -Infinity
</span></code></pre></div><p>JavaScript also has the concept of negative zero.</p>
<div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-js data-lang=js><span style=color:#66d9ef>const</span> <span style=color:#a6e22e>a</span> <span style=color:#f92672>=</span> <span style=color:#ae81ff>42</span>;

<span style=color:#a6e22e>console</span>.<span style=color:#a6e22e>log</span>(<span style=color:#f92672>-</span><span style=color:#a6e22e>a</span> <span style=color:#f92672>*</span> <span style=color:#ae81ff>0</span>); <span style=color:#75715e>// -0
</span></code></pre></div><p>But <code>-0</code> is equal to <code>0</code> when checked for equality!</p>
<div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-js data-lang=js><span style=color:#a6e22e>console</span>.<span style=color:#a6e22e>log</span>(<span style=color:#f92672>-</span><span style=color:#ae81ff>0</span> <span style=color:#f92672>===</span> <span style=color:#ae81ff>0</span>); <span style=color:#75715e>// true
</span></code></pre></div><p>Since <code>0</code> and <code>NaN</code> behaves in weird ways when checked for equality, we have the <code>Object.is()</code> function to check the absolute equality of values.</p>
<div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-js data-lang=js><span style=color:#a6e22e>console</span>.<span style=color:#a6e22e>log</span>(Object.<span style=color:#a6e22e>is</span>(<span style=color:#66d9ef>NaN</span>, <span style=color:#66d9ef>NaN</span>)); <span style=color:#75715e>// true
</span><span style=color:#75715e></span><span style=color:#a6e22e>console</span>.<span style=color:#a6e22e>log</span>(Object.<span style=color:#a6e22e>is</span>(<span style=color:#f92672>-</span><span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>0</span>)); <span style=color:#75715e>// false
</span><span style=color:#75715e></span><span style=color:#a6e22e>console</span>.<span style=color:#a6e22e>log</span>(Object.<span style=color:#a6e22e>is</span>(<span style=color:#ae81ff>42</span>, <span style=color:#ae81ff>42</span>)); <span style=color:#75715e>// true
</span><span style=color:#75715e></span><span style=color:#a6e22e>console</span>.<span style=color:#a6e22e>log</span>(Object.<span style=color:#a6e22e>is</span>(<span style=color:#ae81ff>42</span>, <span style=color:#e6db74>&#39;42&#39;</span>)); <span style=color:#75715e>// false
</span><span style=color:#75715e></span><span style=color:#a6e22e>console</span>.<span style=color:#a6e22e>log</span>(Object.<span style=color:#a6e22e>is</span>(<span style=color:#e6db74>&#39;foo&#39;</span>, <span style=color:#e6db74>&#39;foo&#39;</span>)); <span style=color:#75715e>// true
</span></code></pre></div><h2 id=value-vs-reference>Value vs. Reference</h2>
<p>Unlike in other languages, JS treats value and reference depending on the type of value that is passed on. Simply put,</p>
<ul>
<li>If we pass an object type (including arrays, functions, etc.) to a function, it is treated as a reference (updates to the value will affect the outer scope value).</li>
<li>If we pass a primitive type (number, string, etc.), to a function, it is treated as a value.</li>
</ul>
<div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-js data-lang=js><span style=color:#66d9ef>function</span> <span style=color:#a6e22e>foo</span> (<span style=color:#a6e22e>obj</span>) {
  <span style=color:#a6e22e>obj</span>.<span style=color:#a6e22e>val</span> <span style=color:#f92672>=</span> <span style=color:#ae81ff>42</span>;
}

<span style=color:#66d9ef>function</span> <span style=color:#a6e22e>bar</span> (<span style=color:#a6e22e>num</span>) {
    <span style=color:#a6e22e>num</span> <span style=color:#f92672>=</span> <span style=color:#ae81ff>42</span>;
}

<span style=color:#66d9ef>const</span> <span style=color:#a6e22e>o</span> <span style=color:#f92672>=</span> {<span style=color:#a6e22e>val</span><span style=color:#f92672>:</span> <span style=color:#ae81ff>1</span>};
<span style=color:#66d9ef>const</span> <span style=color:#a6e22e>n</span> <span style=color:#f92672>=</span> <span style=color:#ae81ff>1</span>;

<span style=color:#a6e22e>foo</span>(<span style=color:#a6e22e>o</span>);
<span style=color:#a6e22e>bar</span>(<span style=color:#a6e22e>n</span>);

<span style=color:#a6e22e>console</span>.<span style=color:#a6e22e>log</span>(<span style=color:#a6e22e>o</span>.<span style=color:#a6e22e>val</span>); <span style=color:#75715e>// 42
</span><span style=color:#75715e></span><span style=color:#a6e22e>console</span>.<span style=color:#a6e22e>log</span>(<span style=color:#a6e22e>n</span>); <span style=color:#75715e>// 1
</span></code></pre></div><h2 id=summary>Summary</h2>
<p>As you have seen above, JS type system behaves in odd ways when dealing with certain values. We cannot put the blame on the designers of the language for most of the above cases. Instead, we should more focus on being aware of such behaviors and write our programs to avoid bugs due to them.</p>
<p>If you are in doubt or have confusion, you can always refer to the <a href=https://262.ecma-international.org/12.0/>language specification</a> (latest 2021 ECMASCRIPT Spec) and try to understand the logical reasoning behind such behaviors. If the spec defines a behavior, we cannot call it a surprise. It should be the standard. If we carefully understand and be aware of the pitfalls, we can become professional JS developers with very little to complain about.</p>
<p>Thanks for reading :)</p>
</div>
</div>
<div class=disqus>
</div>
</div>
</div>
</div>
<footer class=footer>
<div class=container>
<div class=text-muted>&copy; All rights reserved. Powered by <a href=https://gohugo.io/>Hugo</a> and
<a href=http://www.github.com/nurlansu/hugo-sustain/>sustain</a> with ♥</div>
</div>
</footer>
<script src=https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta2/dist/js/bootstrap.min.js integrity=sha384-nsg8ua9HAw1y0W1btsyWgBklPnCUAFLuTMS2G72MMONqmOymq585AcH49TLBQObG crossorigin=anonymous></script>
</body>
</html>