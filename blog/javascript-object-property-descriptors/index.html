<!doctype html><html lang=en-us>
<head>
<meta charset=utf-8>
<meta http-equiv=x-ua-compatible content="IE=edge">
<meta name=viewport content="width=device-width,initial-scale=1">
<meta name=author content="archeun">
<link rel="shortcut icon" type=image/x-icon href=https://archeun.github.ioimg/favicon.ico>
<title>JavaScript Object Property Descriptors | archeun blog</title>
<meta name=description content="A JavaScript object is composed of a set of property: value pairs, where the property is a string and the value can be any valid JavaScript data type. Here is an example.
const user = { name: 'John', }; Javascript Object Property Descriptors Most of the time, developers deal with the value part of the object properties. We define object property values in a variety of ways ranging from strings, numbers, objects, and functions, etc.">
<link href=https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta2/dist/css/bootstrap.min.css rel=stylesheet integrity=sha384-BmbxuPwQa2lc/FVzBcNJ7UAyJxM6wuqIj61tLrc4wSX0szH/Ev+nYRRuWlolflfl crossorigin=anonymous>
<link rel="preload stylesheet" href=/css/main.min.css as=style>
<link rel=stylesheet type=text/css href=https://maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css>
<link rel=stylesheet type=text/css href="https://fonts.googleapis.com/css?family=Source+Sans+Pro:200,400,200bold,400old"><!--[if lt IE 9]><script src=https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js></script>
<script src=https://oss.maxcdn.com/libs/respond.js/1.4.2/respond.min.js></script><![endif]-->
</head>
<body>
<div id=content>
<div class="container mb-3">
<nav class="navbar navbar-expand-lg">
<div class=container-fluid>
<a class=navbar-brand href=https://archeun.github.io>
<i class="fa fa-home"></i>
</a>
<button class=navbar-toggler type=button data-bs-toggle=collapse data-bs-target=#navbar aria-controls=navbar>
<i class="fa fa-bars"></i>
</button>
<div id=navbar class="collapse navbar-collapse">
<ul class="navbar-nav ms-auto mb-2 mb-lg-0">
<li class=nav-item>
<li><a class=nav-link href=/blog/>BLOG</a></li>
</li>
</ul>
</div>
</div>
</div>
</nav>
<div class=container>
<h3 class=mt-3><b><a href=https://archeun.github.io/blog/javascript-object-property-descriptors/>JavaScript Object Property Descriptors</a></b></h3>
<div class="blog-title my-4">
<h6>
September 1, 2021
&nbsp;&nbsp;
</h6>
</div>
<div class=panel>
<div class=panel-body>
<div class=blogpost>
<p>A JavaScript object is composed of a set of <code>property</code>: <code>value</code> pairs, where the
<code>property</code> is a <code>string</code> and the <code>value</code> can be any valid JavaScript data type. Here is an example.</p>
<div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-javascript data-lang=javascript><span style=color:#66d9ef>const</span> <span style=color:#a6e22e>user</span> <span style=color:#f92672>=</span> {
  <span style=color:#a6e22e>name</span><span style=color:#f92672>:</span> <span style=color:#e6db74>&#39;John&#39;</span>,
};
</code></pre></div><h2 id=javascript-object-property-descriptors>Javascript Object Property Descriptors</h2>
<p>Most of the time, developers deal with the <code>value</code> part of the object properties. We define object property values in a variety of ways ranging from strings, numbers, objects, and functions, etc. But we care less about the characteristics of the <code>property</code> part. Generally what we know about an object <code>property</code> is that,</p>
<ul>
<li>They <em>must</em> be strings (even though we can use numeric values for object properties in our code, they are automatically converted into strings at the run time)</li>
<li>Once a property is defined on an object, we can access the value of it using the dot notation (<code>user.name</code>), the square bracket notation (<code>user['name']</code>), or using the ES6 object destructuring mechanism (<code>const { username } = user</code>)</li>
</ul>
<p>The above knowledge is enough for us to deal with most of our day-to-day JavaScript needs. But, JavaScript provides us a beautiful way of defining the characteristics of the object properties too. Let&rsquo;s see what are they.</p>
<p>Let&rsquo;s start with the simplest one.</p>
<h3 id=setting-a-default-value-for-a-property>Setting a default value for a property</h3>
<p>You may be thinking now, <em>why this is such a big deal?</em> We all know how to define a default value of an object property right? Here is how we do it every day.</p>
<div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-javascript data-lang=javascript><span style=color:#66d9ef>const</span> <span style=color:#a6e22e>user</span> <span style=color:#f92672>=</span> {
  <span style=color:#75715e>// &#39;John&#39; is the default value of the `name` property of the user object
</span><span style=color:#75715e></span>  <span style=color:#a6e22e>username</span><span style=color:#f92672>:</span> <span style=color:#e6db74>&#39;John&#39;</span>,
  <span style=color:#75715e>// 19 is the default value of the `age` property of the user object
</span><span style=color:#75715e></span>  <span style=color:#a6e22e>age</span><span style=color:#f92672>:</span> <span style=color:#ae81ff>19</span>,
};

<span style=color:#75715e>/**
</span><span style=color:#75715e> * We can also create new properties dynamically on the user object and define
</span><span style=color:#75715e> * default values. Here, &#39;male&#39; is the default value of the `gender` property
</span><span style=color:#75715e> * of the user object.
</span><span style=color:#75715e> */</span>
<span style=color:#a6e22e>user</span>.<span style=color:#a6e22e>gender</span> <span style=color:#f92672>=</span> <span style=color:#e6db74>&#39;male&#39;</span>;
</code></pre></div><p>Nice! That is the easy way of doing stuff. But what if I told you there is another way of defining the properties of a JavaScript object?</p>
<p>JavaScript <code>Object</code> has a built-in method called <code>defineProperty</code> that can be used to create properties for an object and define some characteristics of those properties. According to the <a href=https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object/defineProperty>MDN Web Docs</a>, below is the documentation of the <code>defineProperty</code> function.</p>
<blockquote>
</blockquote>
<h4 id=parameters>Parameters</h4>
<p><code>obj</code> The object on which to define the property.</p>
<blockquote>
</blockquote>
<p><code>prop</code> - The name or Symbol of the property to be defined or modified.</p>
<blockquote>
</blockquote>
<p><code>descriptor</code> - The descriptor for the property being defined or modified.</p>
<h4 id=return-value>Return value</h4>
<p>The object that was passed to the function.</p>
<p>Here is how we can use the <code>defineProperty</code> function.</p>
<div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-javascript data-lang=javascript><span style=color:#66d9ef>const</span> <span style=color:#a6e22e>user</span> <span style=color:#f92672>=</span> {
  <span style=color:#75715e>// &#39;John&#39; is the default value of the `name` property of the user object
</span><span style=color:#75715e></span>  <span style=color:#a6e22e>username</span><span style=color:#f92672>:</span> <span style=color:#e6db74>&#39;John&#39;</span>,
  <span style=color:#75715e>// 19 is the default value of the `age` property of the user object
</span><span style=color:#75715e></span>  <span style=color:#a6e22e>age</span><span style=color:#f92672>:</span> <span style=color:#ae81ff>19</span>,
};

<span style=color:#75715e>/**
</span><span style=color:#75715e> * We can also create new properties dynamically on the user object and define
</span><span style=color:#75715e> * default values. Here, &#39;male&#39; is the default value of the `gender` property
</span><span style=color:#75715e> * of the user object.
</span><span style=color:#75715e> */</span>
<span style=color:#a6e22e>user</span>.<span style=color:#a6e22e>gender</span> <span style=color:#f92672>=</span> <span style=color:#e6db74>&#39;male&#39;</span>;

<span style=color:#75715e>/**
</span><span style=color:#75715e> * Here, we use the `defineProperty` method built-in to the
</span><span style=color:#75715e> * JavaScript Object data type to define the `hairColor` property of the
</span><span style=color:#75715e> * `user` object. While defining it, we provide &#39;black&#39; as the default value.
</span><span style=color:#75715e> * This will be identical to doing user.hairColor = &#39;black&#39;
</span><span style=color:#75715e> */</span>
Object.<span style=color:#a6e22e>defineProperty</span>(<span style=color:#a6e22e>user</span>, <span style=color:#e6db74>&#39;hairColor&#39;</span>, {
  <span style=color:#a6e22e>value</span><span style=color:#f92672>:</span> <span style=color:#e6db74>&#39;black&#39;</span>,
});

<span style=color:#a6e22e>console</span>.<span style=color:#a6e22e>log</span>(<span style=color:#a6e22e>user</span>.<span style=color:#a6e22e>hairColor</span>); <span style=color:#75715e>// &#39;black&#39;
</span></code></pre></div><p>Cool, right?</p>
<p>But there are a few more characteristics other than the default value that we can define on object properties if we use the <code>defineProperty</code> function. Those characteristics are referred to as <em>descriptors</em>. That is because they <em>describe</em> the characteristics of an object property. Below are the javascript property descriptors.</p>
<p><code>value</code></p>
<ul>
<li>The value associated with the property. Can be any valid JavaScript value (number, object, function, etc). Defaults to <code>undefined</code>. This is the descriptor that we used in the above example.</li>
</ul>
<p><code>writable</code></p>
<ul>
<li><code>true</code> if the value associated with the property may be changed with an assignment operator. Defaults to <code>false</code>.</li>
</ul>
<p><code>enumerable</code></p>
<ul>
<li><code>true</code> if and only if this property shows up during enumeration of the properties on the corresponding object. Defaults to <code>false</code>.</li>
</ul>
<p><code>configurable</code></p>
<ul>
<li><code>true</code> if the type of this property descriptor may be changed and if the property may be deleted from the corresponding object. Defaults to <code>false</code>.</li>
</ul>
<p>As you can see, those descriptors are like the <strong>metadata</strong> of a property of an object. They control to how extent the <em>value</em> of the particular object <em>property</em> can be accessed/altered/configured.</p>
<p>Now, let&rsquo;s see them in action.</p>
<p>Since we already saw the <code>value</code> descriptor, let&rsquo;s start with <code>writable</code>.</p>
<h3 id=writable><code>writable</code></h3>
<p>We can use <code>writable</code> descriptor to specify whether the value of a particular object property can be changed or not once it is defined.</p>
<p>We can set it to <code>true</code> if the value associated with the property may be changed with an assignment operator. If not specified, defaults to <code>false</code>.</p>
<p>Let&rsquo;s see it from an example. Below, we define a property called <code>uid</code> in the <code>user</code> object and make it non-writable.</p>
<div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-javascript data-lang=javascript><span style=color:#66d9ef>const</span> <span style=color:#a6e22e>user</span> <span style=color:#f92672>=</span> {
 <span style=color:#a6e22e>username</span><span style=color:#f92672>:</span> <span style=color:#e6db74>&#39;John&#39;</span>,
 <span style=color:#a6e22e>age</span><span style=color:#f92672>:</span> <span style=color:#ae81ff>19</span>,
};

<span style=color:#75715e>/**
</span><span style=color:#75715e>* Here we defined the `uid` attribute and provide a default value.
</span><span style=color:#75715e>* It is not necessary to specify `writable: false`, since the
</span><span style=color:#75715e>* default value of `writable` descriptor is `false`.
</span><span style=color:#75715e>* But for clarity I have put it explicitly.
</span><span style=color:#75715e>*/</span>
Object.<span style=color:#a6e22e>defineProperty</span>(<span style=color:#a6e22e>user</span>, <span style=color:#e6db74>&#39;uid&#39;</span>, {
 <span style=color:#a6e22e>value</span><span style=color:#f92672>:</span> <span style=color:#e6db74>&#39;user042&#39;</span>,
 <span style=color:#a6e22e>writable</span><span style=color:#f92672>:</span> <span style=color:#66d9ef>false</span>,
});

<span style=color:#75715e>/**
</span><span style=color:#75715e>* This will silently fail as long as we do not use &#39;strict mode&#39;.
</span><span style=color:#75715e>* If we use &#39;strict mode&#39;, this statement will throw an error.
</span><span style=color:#75715e>*/</span>
<span style=color:#a6e22e>user</span>.<span style=color:#a6e22e>uid</span> <span style=color:#f92672>=</span> <span style=color:#e6db74>&#39;user007&#39;</span>;

<span style=color:#75715e>/**
</span><span style=color:#75715e>* This will still print &#39;user042&#39;, since the above
</span><span style=color:#75715e>* value assignment has no effect.
</span><span style=color:#75715e>*/</span>
<span style=color:#a6e22e>console</span>.<span style=color:#a6e22e>log</span>(<span style=color:#a6e22e>user</span>.<span style=color:#a6e22e>uid</span>);
</code></pre></div><p>Similarly, if we specified <code>writable: true</code>, the value assignment will be effective and the code will print out <code>user007</code>.</p>
<h3 id=enumerable><code>enumerable</code></h3>
<p>This descriptor controls how enumerating (looping or iterating) through the object properties will be effective for a particular object property. We can specify <code>true</code> if and only if this property shows up during enumeration of the properties on the corresponding object. Defaults to <code>false</code>.</p>
<p>Let&rsquo;s grasp the importance of this descriptor now.</p>
<p>For eg: let&rsquo;s say you want to have a special property called <code>persist</code> on the <code>user</code> object in our example above. But unlike other properties which are scalar values, you want this property to be a function. So now the <code>user</code> object is like below.</p>
<div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-javascript data-lang=javascript><span style=color:#66d9ef>const</span> <span style=color:#a6e22e>user</span> <span style=color:#f92672>=</span> {
  <span style=color:#a6e22e>username</span><span style=color:#f92672>:</span> <span style=color:#e6db74>&#39;John&#39;</span>,
  <span style=color:#a6e22e>age</span><span style=color:#f92672>:</span> <span style=color:#ae81ff>19</span>,
  <span style=color:#a6e22e>persist</span><span style=color:#f92672>:</span> () =&gt; {
    <span style=color:#75715e>// logic goes here...
</span><span style=color:#75715e></span>  },
};
</code></pre></div><p>There is nothing wrong until someone iterates through the above object properties using a loop, as below.</p>
<div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-javascript data-lang=javascript><span style=color:#66d9ef>const</span> <span style=color:#a6e22e>user</span> <span style=color:#f92672>=</span> {
  <span style=color:#a6e22e>username</span><span style=color:#f92672>:</span> <span style=color:#e6db74>&#39;John&#39;</span>,
  <span style=color:#a6e22e>age</span><span style=color:#f92672>:</span> <span style=color:#ae81ff>19</span>,
  <span style=color:#a6e22e>persist</span><span style=color:#f92672>:</span> () =&gt; {
    <span style=color:#75715e>// logic goes here...
</span><span style=color:#75715e></span>  },
};

<span style=color:#66d9ef>for</span> (<span style=color:#66d9ef>const</span> <span style=color:#a6e22e>key</span> <span style=color:#66d9ef>in</span> <span style=color:#a6e22e>user</span>) {
  <span style=color:#66d9ef>if</span> (Object.<span style=color:#a6e22e>hasOwnProperty</span>.<span style=color:#a6e22e>call</span>(<span style=color:#a6e22e>user</span>, <span style=color:#a6e22e>key</span>)) {
    <span style=color:#a6e22e>console</span>.<span style=color:#a6e22e>log</span>(<span style=color:#a6e22e>user</span>[<span style=color:#a6e22e>key</span>]);
  }
}

<span style=color:#75715e>/**
</span><span style=color:#75715e> * These will be printed to the console
</span><span style=color:#75715e> *
</span><span style=color:#75715e> * John
</span><span style=color:#75715e> * 19
</span><span style=color:#75715e> * [Function: persist]
</span><span style=color:#75715e> *
</span><span style=color:#75715e> */</span>
</code></pre></div><p>As you can see, the <code>persist</code> function is also logged into the console (as it string value). Usually, we need to prevent this from happening. For eg: someone who is looping through the properties of the <code>user</code> object to display its value in a UI, need to write a conditional logic to omit the <code>persist</code> key. That is bad.</p>
<p>So, in order to prevent this scenario, the creator of the <code>user</code> object can specifically tell JavaScript that the <code>persist</code> property should not be <strong>visible</strong> in any enumeration of the properties of the <code>user</code> object, by setting the <code>enumerable</code> descriptor of the <code>persist</code> property to <code>false</code>.</p>
<p>With this example, I can show you that the <code>defineProperty</code> can be used not only to <em>create</em> new properties (and specify their descriptors), but also to <em>define</em> descriptors of already existing properties too.</p>
<p>Building on top of the last example, let&rsquo;s see how we can set the <code>enumerable</code> descriptor of the <code>persist</code> property to <code>false</code>.</p>
<div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-javascript data-lang=javascript><span style=color:#66d9ef>const</span> <span style=color:#a6e22e>user</span> <span style=color:#f92672>=</span> {
  <span style=color:#a6e22e>username</span><span style=color:#f92672>:</span> <span style=color:#e6db74>&#39;John&#39;</span>,
  <span style=color:#a6e22e>age</span><span style=color:#f92672>:</span> <span style=color:#ae81ff>19</span>,
  <span style=color:#a6e22e>persist</span><span style=color:#f92672>:</span> () =&gt; {
    <span style=color:#75715e>// logic goes here...
</span><span style=color:#75715e></span>  },
};

<span style=color:#75715e>/** 
</span><span style=color:#75715e> * Here we use defineProperty function to alter the descriptor of 
</span><span style=color:#75715e> * the existing property `persist`
</span><span style=color:#75715e> */</span>
Object.<span style=color:#a6e22e>defineProperty</span>(<span style=color:#a6e22e>user</span>, <span style=color:#e6db74>&#39;persist&#39;</span>, {
  <span style=color:#a6e22e>enumerable</span><span style=color:#f92672>:</span> <span style=color:#66d9ef>false</span>,
});

<span style=color:#66d9ef>for</span> (<span style=color:#66d9ef>const</span> <span style=color:#a6e22e>key</span> <span style=color:#66d9ef>in</span> <span style=color:#a6e22e>user</span>) {
  <span style=color:#66d9ef>if</span> (Object.<span style=color:#a6e22e>hasOwnProperty</span>.<span style=color:#a6e22e>call</span>(<span style=color:#a6e22e>user</span>, <span style=color:#a6e22e>key</span>)) {
    <span style=color:#a6e22e>console</span>.<span style=color:#a6e22e>log</span>(<span style=color:#a6e22e>user</span>[<span style=color:#a6e22e>key</span>]);
  }
}

<span style=color:#75715e>/**
</span><span style=color:#75715e> * These will be printed to the console.
</span><span style=color:#75715e> * 
</span><span style=color:#75715e> * John
</span><span style=color:#75715e> * 19
</span><span style=color:#75715e> *
</span><span style=color:#75715e> */</span>
</code></pre></div><p>As you can see, we no longer see the ugly <code>[Function: persist]</code> printed into the console. Perfect!</p>
<p>Now let&rsquo;s move onto our last descriptor</p>
<h3 id=configurable><code>configurable</code></h3>
<p>As we saw in the previous example, after the <code>persist</code> property was defined on the <code>user</code> object, we were able to use <code>defineProperty</code> function to make it non-enumarable. While this is a cool feature, sometimes we <em>really</em> do not need somebody else to change any descriptors of the properties of our objects. For eg: even though we (the owner of the <code>user</code> object) made <code>persist</code> to <code>enumerable: false</code>, anybody can revert it back inside <em>their</em> code to be <code>enumerable: true</code>, as below.</p>
<div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-javascript data-lang=javascript><span style=color:#66d9ef>const</span> <span style=color:#a6e22e>user</span> <span style=color:#f92672>=</span> {
  <span style=color:#a6e22e>username</span><span style=color:#f92672>:</span> <span style=color:#e6db74>&#39;John&#39;</span>,
  <span style=color:#a6e22e>age</span><span style=color:#f92672>:</span> <span style=color:#ae81ff>19</span>,
  <span style=color:#a6e22e>persist</span><span style=color:#f92672>:</span> () =&gt; {
    <span style=color:#75715e>// logic goes here...
</span><span style=color:#75715e></span>  },
};

<span style=color:#75715e>// We make `persist` non-enumerable
</span><span style=color:#75715e></span>Object.<span style=color:#a6e22e>defineProperty</span>(<span style=color:#a6e22e>user</span>, <span style=color:#e6db74>&#39;persist&#39;</span>, {
  <span style=color:#a6e22e>enumerable</span><span style=color:#f92672>:</span> <span style=color:#66d9ef>false</span>,
});

<span style=color:#66d9ef>for</span> (<span style=color:#66d9ef>const</span> <span style=color:#a6e22e>key</span> <span style=color:#66d9ef>in</span> <span style=color:#a6e22e>user</span>) {
  <span style=color:#66d9ef>if</span> (Object.<span style=color:#a6e22e>hasOwnProperty</span>.<span style=color:#a6e22e>call</span>(<span style=color:#a6e22e>user</span>, <span style=color:#a6e22e>key</span>)) {
    <span style=color:#a6e22e>console</span>.<span style=color:#a6e22e>log</span>(<span style=color:#a6e22e>user</span>[<span style=color:#a6e22e>key</span>]);
  }
}

<span style=color:#75715e>// John
</span><span style=color:#75715e>// 19
</span><span style=color:#75715e></span>
<span style=color:#75715e>// Uh, oh. Somebody can change it back later!!
</span><span style=color:#75715e></span>Object.<span style=color:#a6e22e>defineProperty</span>(<span style=color:#a6e22e>user</span>, <span style=color:#e6db74>&#39;persist&#39;</span>, {
  <span style=color:#a6e22e>enumerable</span><span style=color:#f92672>:</span> <span style=color:#66d9ef>true</span>,
});

<span style=color:#66d9ef>for</span> (<span style=color:#66d9ef>const</span> <span style=color:#a6e22e>key</span> <span style=color:#66d9ef>in</span> <span style=color:#a6e22e>user</span>) {
  <span style=color:#66d9ef>if</span> (Object.<span style=color:#a6e22e>hasOwnProperty</span>.<span style=color:#a6e22e>call</span>(<span style=color:#a6e22e>user</span>, <span style=color:#a6e22e>key</span>)) {
    <span style=color:#a6e22e>console</span>.<span style=color:#a6e22e>log</span>(<span style=color:#a6e22e>user</span>[<span style=color:#a6e22e>key</span>]);
  }
}

<span style=color:#75715e>// John
</span><span style=color:#75715e>// 19
</span><span style=color:#75715e>// [Function: persist] &lt;-- oops, it&#39;s back!
</span></code></pre></div><p>As shown above, we do not have full control over the descriptors after we define them. In order to address this problem, JavaScript has provided the <code>configurable</code> descriptor. If we make a particular object property <code>configurable: false</code>, nobody can change any descriptor of that property afterward! That perfectly settles down everything, right?</p>
<p>So in the above example, while setting <code>enumarable</code> of <code>persist</code> to <code>false</code>, we also can set <code>configurable</code> to be <code>false</code> and it will prevent somebody from changing it back again. Below is the code.</p>
<div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-javascript data-lang=javascript><span style=color:#66d9ef>const</span> <span style=color:#a6e22e>user</span> <span style=color:#f92672>=</span> {
  <span style=color:#a6e22e>username</span><span style=color:#f92672>:</span> <span style=color:#e6db74>&#39;John&#39;</span>,
  <span style=color:#a6e22e>age</span><span style=color:#f92672>:</span> <span style=color:#ae81ff>19</span>,
  <span style=color:#a6e22e>persist</span><span style=color:#f92672>:</span> () =&gt; {
    <span style=color:#75715e>// logic goes here...
</span><span style=color:#75715e></span>  },
};

<span style=color:#75715e>/**
</span><span style=color:#75715e> * We make `persist` non-enumerable and also non-configurable
</span><span style=color:#75715e> */</span>
Object.<span style=color:#a6e22e>defineProperty</span>(<span style=color:#a6e22e>user</span>, <span style=color:#e6db74>&#39;persist&#39;</span>, {
  <span style=color:#a6e22e>enumerable</span><span style=color:#f92672>:</span> <span style=color:#66d9ef>false</span>,
  <span style=color:#a6e22e>configurable</span><span style=color:#f92672>:</span> <span style=color:#66d9ef>false</span>,
});

<span style=color:#66d9ef>for</span> (<span style=color:#66d9ef>const</span> <span style=color:#a6e22e>key</span> <span style=color:#66d9ef>in</span> <span style=color:#a6e22e>user</span>) {
  <span style=color:#66d9ef>if</span> (Object.<span style=color:#a6e22e>hasOwnProperty</span>.<span style=color:#a6e22e>call</span>(<span style=color:#a6e22e>user</span>, <span style=color:#a6e22e>key</span>)) {
    <span style=color:#a6e22e>console</span>.<span style=color:#a6e22e>log</span>(<span style=color:#a6e22e>user</span>[<span style=color:#a6e22e>key</span>]);
  }
}

<span style=color:#75715e>// John
</span><span style=color:#75715e>// 19
</span><span style=color:#75715e></span>
<span style=color:#75715e>/**
</span><span style=color:#75715e> * Now the nice thing here is, this function call will actually
</span><span style=color:#75715e> * throw an error even without the &#39;strict mode&#39; on.
</span><span style=color:#75715e> * The javascript runtime will throw the below error if we
</span><span style=color:#75715e> * execute this code.
</span><span style=color:#75715e> *
</span><span style=color:#75715e> *      Object.defineProperty(user, &#39;persist&#39;, {
</span><span style=color:#75715e> *             ^
</span><span style=color:#75715e> *      TypeError: Cannot redefine property: persist
</span><span style=color:#75715e> *
</span><span style=color:#75715e> * So nobody can redefine the &#39;persist&#39; property anymore!
</span><span style=color:#75715e> */</span>
Object.<span style=color:#a6e22e>defineProperty</span>(<span style=color:#a6e22e>user</span>, <span style=color:#e6db74>&#39;persist&#39;</span>, {
  <span style=color:#a6e22e>enumerable</span><span style=color:#f92672>:</span> <span style=color:#66d9ef>true</span>,
});

<span style=color:#66d9ef>for</span> (<span style=color:#66d9ef>const</span> <span style=color:#a6e22e>key</span> <span style=color:#66d9ef>in</span> <span style=color:#a6e22e>user</span>) {
  <span style=color:#66d9ef>if</span> (Object.<span style=color:#a6e22e>hasOwnProperty</span>.<span style=color:#a6e22e>call</span>(<span style=color:#a6e22e>user</span>, <span style=color:#a6e22e>key</span>)) {
    <span style=color:#a6e22e>console</span>.<span style=color:#a6e22e>log</span>(<span style=color:#a6e22e>user</span>[<span style=color:#a6e22e>key</span>]);
  }
}

<span style=color:#75715e>// John
</span><span style=color:#75715e>// 19
</span></code></pre></div><p>This makes the object descriptors more useful.</p>
<h4 id=note>Note</h4>
<p>In addition to preventing changes to the descriptors, <code>configurable: false</code> will also prevent the particular property from deleting from that object.</p>
<p>There are two caveats related to the <code>configurable</code> descriptor though.</p>
<ul>
<li>Setting <code>configurable: false</code> will not prevent the value of that particular property from being changed. We should explicitly set <code>writable: false</code> to prevent that.</li>
<li>Even though we set <code>configurable: false</code>, there is an exception such that we can set <code>writable: false</code> afterward. This is reasonable since we are making the restriction tighter here, it should be allowed.</li>
</ul>
<p>This is the basic idea about JavaScript object property descriptors! But as per the specification, there are two other descriptors in addition to the above 4 that are identified as <em>accessor descriptors</em>. They are <code>get</code> and <code>set</code>. They basically define functions that act as <em>getters</em> and <em>setters</em> of a particular object property. They are almost similar to the other descriptors we talked about. Therefore, if you are interested please have a look at the <a href=https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object/defineProperty>MDN Web Docs</a> to get an understanding.</p>
<p>Hope you have gained the fundamental idea about <strong>JavaScript Object Property Descriptors now</strong> :)</p>
<p>Thank you for reading!</p>
</div>
</div>
<div class=disqus>
</div>
</div>
</div>
</div>
<footer class=footer>
<div class=container>
<div class=text-muted>&copy; All rights reserved. Powered by <a href=https://gohugo.io/>Hugo</a> and
<a href=http://www.github.com/nurlansu/hugo-sustain/>sustain</a> with â™¥</div>
</div>
</footer>
<script src=https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta2/dist/js/bootstrap.min.js integrity=sha384-nsg8ua9HAw1y0W1btsyWgBklPnCUAFLuTMS2G72MMONqmOymq585AcH49TLBQObG crossorigin=anonymous></script>
</body>
</html>